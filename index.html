<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 9 Science Question Generator</title>
    
    <style>
        /* Modern, Premium Look CSS */
        :root {
            --primary-color: #13B0E8; /* Vibrant Blue/Teal */
            --accent-color: #FFC700;  /* Energetic Yellow */
            --success-color: #4ADE80; /* Green */
            --bg-light: #F8F9FA;
            --text-dark: #333333;
            --text-light: #ffffff;
            --shadow-subtle: 0 4px 12px rgba(0, 0, 0, 0.08);
            --border-radius: 12px;
            --font-family: Arial, sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-light);
            color: var(--text-dark);
            margin: 0;
            line-height: 1.6;
        }

        /* Utility for simple "icons" (emojis) */
        .icon-small { font-size: 1.1em; margin-right: 5px; }
        .icon-blue { color: var(--primary-color); font-weight: bold;}
        .icon-yellow { color: var(--accent-color); font-weight: bold; }
        .icon-red { color: #e74c3c; font-weight: bold; }

        /* Header/Footer Styling (Kept in English/Standard) */
        .header {
            background-color: var(--primary-color);
            color: var(--text-light);
            padding: 15px 0;
            box-shadow: var(--shadow-subtle);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-light);
            text-decoration: none;
        }

        .nav button {
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1em;
            cursor: pointer;
            margin-left: 20px;
            padding: 5px 10px;
            border-radius: 6px;
            transition: background-color 0.3s;
        }

        .nav button:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .footer {
            text-align: center;
            padding: 15px;
            background-color: #ffffff;
            border-top: 1px solid #eee;
            margin-top: 40px;
            font-size: 0.9em;
        }

        /* Main Container and Sections */
        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
        }
        
        .section-title {
            font-size: 2em;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        /* Buttons */
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-start {
            background-color: var(--primary-color);
            color: var(--text-light);
            box-shadow: 0 6px 15px rgba(19, 176, 232, 0.4);
            font-size: 1.5em;
            padding: 20px 40px;
        }
        .btn-start:hover { background-color: #00A9FF; transform: translateY(-2px); }

        .btn-view-small {
            padding: 10px 20px;
            font-size: 1em;
            margin-top: 20px;
            background-color: #ddd;
            color: var(--text-dark);
        }
        .btn-view-small:hover { background-color: #ccc; }

        /* Status Boxes */
        .status-box {
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1em;
            font-weight: bold;
            margin: 20px 0;
        }
        .generated { background-color: #e0f7fa; color: #00796b; border: 2px solid var(--primary-color); }
        .rest { background-color: #fff9e6; color: #a37200; border: 2px solid var(--accent-color); }
        .submitted { background-color: #e6ffe6; color: #219d2c; border: 2px solid var(--success-color); }
        .status-box .icon-small { margin-right: 10px; font-size: 1.5em; }

        /* Home Section */
        .home-section {
            text-align: center;
            padding: 60px 20px;
            background: #ffffff;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-subtle);
        }
        .welcome-heading { color: var(--primary-color); font-size: 2.5em; margin-bottom: 10px; }
        .tagline { font-size: 1.2em; margin-bottom: 40px; color: #666; }
        .feature-list { margin-top: 50px; padding-top: 20px; border-top: 1px dashed #ddd; }
        .daily-summary { list-style: none; padding: 0; display: flex; justify-content: center; gap: 30px; font-size: 1.1em; }
        .daily-summary li { background-color: var(--bg-light); padding: 10px 15px; border-radius: 6px; }

        /* Question Card Styling */
        .question-card {
            background-color: #ffffff;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-subtle);
            border-left: 5px solid var(--primary-color);
        }
        
        /* Record Detail View - Answers are for reference only */
        .detail-card { border-left: 5px solid var(--accent-color); margin-bottom: 30px; }
        .answer-section { padding: 15px; border-radius: 8px; margin-top: 15px; font-size: 0.95em; }
        .student-answer { background-color: #e6f7ff; border-left: 4px solid var(--primary-color); }
        .correct-answer { background-color: #fffde7; border-left: 4px solid var(--accent-color); }
        .answer-section h4 { margin-top: 0; font-size: 1em; font-weight: bold; margin-bottom: 5px; }

        /* Record Menu Styling */
        .record-list { list-style: none; padding: 0; }
        .record-item {
            background-color: #ffffff;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow-subtle);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid var(--primary-color);
        }
        .record-date { font-size: 1.1em; color: var(--text-dark); margin-right: 15px; }
        .tag { padding: 5px 10px; border-radius: 4px; font-size: 0.9em; font-weight: bold; margin-left: 10px; }
        .tag-answered { background-color: #d1ffde; color: #2e7d32; }
        .tag-unanswered { background-color: #ffe0e0; color: #c62828; }
    </style>

</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="javascript:void(0);" onclick="renderPage('home')" class="logo">üî¨ Class 9 Science Question Generator</a>
            <nav class="nav">
                <button onclick="renderPage('home')"><span class="icon-small">‚ú®</span> Home</button>
                <button onclick="renderPage('record')"><span class="icon-small">üìö</span> Record Menu</button>
            </nav>
        </div>
    </header>

    <main class="container">
        <div id="app-content"></div>
    </main>

    <footer class="footer">
        Made with <span style="color: #ff6b6b;">‚ù§Ô∏è</span> by AKASH Chaudhary
    </footer>

    <script>
        const STUDENT_NAME = "Akash Chaudhary";
        const CONTENT_DIV = document.getElementById('app-content');
        const DAYS_OF_WEEK = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        
        // --- Configuration (Hindi Text) ---
        const UI_TEXT = {
            ASSIGNMENT_HISTORY: "‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§á‡§§‡§ø‡§π‡§æ‡§∏",
            ACCESS_PREVIOUS: "‡§Ö‡§™‡§®‡•á ‡§™‡§ø‡§õ‡§≤‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§î‡§∞ ‡§â‡§®‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç‡•§",
            HOMEWORK_FOR: "‡§ï‡§æ ‡§π‡•ã‡§Æ‡§µ‡§∞‡•ç‡§ï",
            QUESTIONS_GENERATED: "‡§Ü‡§ú ‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã ‡§ó‡§è ‡§π‡•à‡§Ç!",
            VIEW_ASSIGNMENT: "‡§Ü‡§ú ‡§ï‡§æ ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§¶‡•á‡§ñ‡•á‡§Ç",
            START_QUESTIONS: "‡§Ü‡§ú ‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
            REST_DAY: "‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§æ ‡§¶‡§ø‡§®",
            NO_ASSIGNMENT: "‡§Ü‡§ú ‡§ï‡•ã‡§à ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
            DAY_TYPE: "‡§¶‡§ø‡§® ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞",
            TOTAL_QUESTIONS: "‡§ï‡•Å‡§≤ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®",
            LOG_DATE: "‡§§‡§ø‡§•‡§ø",
            ANSWERED: "‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ",
            UNANSWERED: "‡§Ö‡§®‡•Å‡§§‡•ç‡§§‡§∞‡§ø‡§§",
            VIEW_DETAILS: "‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç",
            NO_RECORDS: "‡§Ö‡§≠‡•Ä ‡§ï‡•ã‡§à ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§≤‡•â‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§ ‡§Ü‡§ú ‡§ï‡§æ ‡§π‡•ã‡§Æ‡§µ‡§∞‡•ç‡§ï ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç!",
            YOUR_ANSWER: "‡§Ü‡§™‡§ï‡§æ ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡•Å‡§§ ‡§â‡§§‡•ç‡§§‡§∞",
            CORRECT_ANSWER: "‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞/‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§¨‡§ø‡§Ç‡§¶‡•Å",
            BACK_TO_RECORDS: "‚¨ÖÔ∏è ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç",
            ERROR: "‡§§‡•ç‡§∞‡•Å‡§ü‡§ø! üõë",
            ASSIGNMENT_NOT_FOUND: "‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§≤‡•â‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§",
            SUCCESS: "‡§∏‡§´‡§≤‡§§‡§æ!",
            ANSWERS_SAVED: "‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§Æ‡•á‡§Ç ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§≤‡•â‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§",
        
        };

        const DAILY_Q_CONFIG = {
            'Monday': { count: 4, type: '‡§™‡•ç‡§∞‡§∂‡•ç‡§®-‡§â‡§§‡•ç‡§§‡§∞ (‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§)', placeholder: '' },
            'Tuesday': { count: 10, type: '‡§è‡§ï-‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§™‡•ç‡§∞‡§∂‡•ç‡§®', placeholder: '' },
            'Wednesday': { count: 5, type: '‡§¶‡•ã-‡§™‡§Ç‡§ï‡•ç‡§§‡§ø ‡§™‡•ç‡§∞‡§∂‡•ç‡§®', placeholder: '' },
            'Thursday': { count: 2, type: '‡§ö‡§ø‡§§‡•ç‡§∞-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®', placeholder: '' },
            'Friday': { count: 2, type: '‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®', placeholder: '' },
            'Saturday': { count: 0, type: UI_TEXT.REST_DAY, placeholder: '' },
            'Sunday': { count: 0, type: UI_TEXT.REST_DAY, placeholder: '' },
        };

        // --- Question Bank (550+ Questions) in Hindi ---
        const QUESTION_BANK = {
            'Monday': [], 'Tuesday': [], 'Wednesday': [], 'Thursday': [], 'Friday': []
        };
        
        // --- Helper Functions ---

        function initializeQuestionBank() {
            let qId = 1;
            for (const day in DAILY_Q_CONFIG) {
                if (DAILY_Q_CONFIG[day].count > 0) {
                    for (let i = 1; i <= 110; i++) { // 110 questions per active day (550 total)
                        let qText, ans;
                        
                        // Generating specific Hindi questions based on Class 9 Science topics
                        if (day === 'Monday') {
                            // Long Answer (‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§)
                            if (i <= 30) {
                                qText = ` ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ï ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§µ‡§∞‡•ç‡§£‡§® ‡§ï‡§∞‡•á‡§Ç‡•§ (DNA, ‡§ï‡•ç‡§∞‡•ã‡§Æ‡•á‡§ü‡§ø‡§®) 

[Image of Cell Nucleus]
`;
                                ans = "‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ï ‡§¶‡•ã‡§π‡§∞‡•Ä ‡§ù‡§ø‡§≤‡•ç‡§≤‡•Ä ‡§∏‡•á ‡§ò‡§ø‡§∞‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§∞‡•ã‡§Æ‡•á‡§ü‡§ø‡§® (DNA ‡§î‡§∞ ‡§™‡•ç‡§∞‡•ã‡§ü‡•Ä‡§®) ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§ï‡•Ä ‡§∏‡§≠‡•Ä ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§™‡•ç‡§∞‡§ú‡§®‡§® ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§";
                            } else if (i <= 60) {
                                qText = ` ‡§®‡•ç‡§Ø‡•Ç‡§ü‡§® ‡§ï‡•á ‡§ó‡§§‡§ø ‡§ï‡•á ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§®‡§ø‡§Ø‡§Æ ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§á‡§∏‡§ï‡§æ ‡§ó‡§£‡§ø‡§§‡•Ä‡§Ø ‡§∏‡•Ç‡§§‡•ç‡§∞ ($F=ma$) ‡§µ‡•ç‡§Ø‡•Å‡§§‡•ç‡§™‡§®‡•ç‡§® ‡§ï‡§∞‡•á‡§Ç‡•§`;
                                ans = "‡§∏‡§Ç‡§µ‡•á‡§ó ‡§Æ‡•á‡§Ç ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§ï‡•Ä ‡§¶‡§∞ ‡§≤‡§ó‡§æ‡§è ‡§ó‡§è ‡§¨‡§≤ ‡§ï‡•á ‡§∏‡§Æ‡§æ‡§®‡•Å‡§™‡§æ‡§™‡§æ‡§§‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§¨‡§≤ ‡§ï‡§æ ‡§∏‡•Ç‡§§‡•ç‡§∞: $F=ma$ (‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø‡§Æ‡§æ‡§® x ‡§§‡•ç‡§µ‡§∞‡§£)‡•§";
                            } else if (i <= 90) {
                                qText = ` ‡§ï‡§æ‡§∞‡•ç‡§Ø (Work) ‡§ï‡•ã ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§ï‡§ø‡§∏‡•Ä ‡§µ‡§∏‡•ç‡§§‡•Å ‡§™‡§∞ ‡§¨‡§≤ ‡§≤‡§ó‡§æ‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§µ‡§ú‡•Ç‡§¶ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∂‡•Ç‡§®‡•ç‡§Ø ‡§ï‡§¨ ‡§π‡•ã‡§§‡§æ ‡§π‡•à? ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§∏‡§π‡§ø‡§§ ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç‡•§`;
                                ans = "‡§ï‡§æ‡§∞‡•ç‡§Ø: ‡§¨‡§≤ ‡§≤‡§ó‡§æ‡§®‡•á ‡§™‡§∞ ‡§µ‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§® (displacement) ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§Ø‡§¶‡§ø ‡§µ‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§∂‡•Ç‡§®‡•ç‡§Ø ‡§π‡•ã, ‡§Ø‡§æ ‡§¨‡§≤ ‡§î‡§∞ ‡§µ‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§® ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡§æ ‡§ï‡•ã‡§£ $90^\circ$ ‡§π‡•ã, ‡§§‡•ã ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∂‡•Ç‡§®‡•ç‡§Ø ‡§π‡•ã‡§§‡§æ ‡§π‡•à (‡§ú‡•à‡§∏‡•á ‡§¶‡•Ä‡§µ‡§æ‡§∞ ‡§ï‡•ã ‡§ß‡§ï‡•ç‡§ï‡§æ ‡§¶‡•á‡§®‡§æ)‡•§";
                            } else {
                                qText = ` ‡§∞‡§¶‡§∞‡§´‡•ã‡§∞‡•ç‡§° ‡§ï‡•á ‡§Ö‡§≤‡•ç‡§´‡§æ-‡§ï‡§£ ‡§™‡•ç‡§∞‡§ï‡•Ä‡§∞‡•ç‡§£‡§® ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó (Alpha-particle scattering experiment) ‡§ï‡•á ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑ ‡§ï‡•ç‡§Ø‡§æ ‡§•‡•á? 

[Image of Rutherford's experiment]
`;
                                ans = "‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§ï‡§£ ‡§∏‡•Ä‡§ß‡•á ‡§®‡§ø‡§ï‡§≤ ‡§ó‡§è, ‡§ï‡•Å‡§õ ‡§µ‡§ø‡§ï‡•ç‡§∑‡•á‡§™‡§ø‡§§ ‡§π‡•Å‡§è, ‡§î‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§µ‡§æ‡§™‡§∏ ‡§Ü‡§è‡•§ ‡§®‡§ø‡§∑‡•ç‡§ï‡§∞‡•ç‡§∑: ‡§™‡§∞‡§Æ‡§æ‡§£‡•Å ‡§ï‡§æ ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§≠‡§æ‡§ó ‡§ñ‡•ã‡§ñ‡§≤‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ï ‡§∏‡§ò‡§® ‡§§‡§•‡§æ ‡§ß‡§®‡§æ‡§µ‡•á‡§∂‡§ø‡§§ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§";
                            }

                        } else if (day === 'Tuesday') {
                            // One-Liner (‡§è‡§ï-‡§™‡§Ç‡§ï‡•ç‡§§‡§ø)
                            if (i <= 40) {
                                qText = ` ‡§§‡•ç‡§µ‡§∞‡§£ ‡§ï‡•Ä SI ‡§á‡§ï‡§æ‡§à ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`;
                                ans = "‡§Æ‡•Ä‡§ü‡§∞ ‡§™‡•ç‡§∞‡§§‡§ø ‡§∏‡•á‡§ï‡§Ç‡§° ‡§µ‡§∞‡•ç‡§ó ($m/s^2$)";
                            } else if (i <= 80) {
                                qText = `[‡§∞‡§∏‡§æ‡§Ø‡§® ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® -   ‡§ï‡§Æ‡§∞‡•á ‡§ï‡•á ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§™‡§∞ ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§ß‡§æ‡§§‡•Å (metal) ‡§§‡§∞‡§≤ ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§à ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à?`;
                                ans = "‡§™‡§æ‡§∞‡§æ (Mercury)";
                            } else {
                                qText = `[‡§ú‡•Ä‡§µ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® -   ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§ï‡§æ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§ò‡§∞ (Powerhouse) ‡§ï‡§ø‡§∏‡•á ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?`;
                                ans = "‡§Æ‡§æ‡§á‡§ü‡•ã‡§ï‡•â‡§®‡•ç‡§°‡•ç‡§∞‡§ø‡§Ø‡§æ (Mitochondria)";
                            }
                        } else if (day === 'Wednesday') {
                            // Two-Liner (‡§¶‡•ã-‡§™‡§Ç‡§ï‡•ç‡§§‡§ø)
                            if (i <= 40) {
                                qText = `[‡§Æ‡§ø‡§∂‡•ç‡§∞‡§£ ‡§î‡§∞ ‡§µ‡§ø‡§≤‡§Ø‡§® -   ‡§∏‡§Æ‡§æ‡§Ç‡§ó‡•Ä (homogeneous) ‡§î‡§∞ ‡§µ‡§ø‡§∑‡§Æ‡§æ‡§Ç‡§ó‡•Ä (heterogeneous) ‡§Æ‡§ø‡§∂‡•ç‡§∞‡§£‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§¶‡•ã ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Ö‡§Ç‡§§‡§∞ ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§`;
                                ans = "‡§∏‡§Æ‡§æ‡§Ç‡§ó‡•Ä: ‡§ò‡§ü‡§ï ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§Æ‡§ø‡§∂‡•ç‡§∞‡§ø‡§§ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç (‡§ú‡•à‡§∏‡•á ‡§®‡§Æ‡§ï ‡§ï‡§æ ‡§ò‡•ã‡§≤)‡•§ ‡§µ‡§ø‡§∑‡§Æ‡§æ‡§Ç‡§ó‡•Ä: ‡§ò‡§ü‡§ï‡•ã‡§Ç ‡§ï‡•ã ‡§Ö‡§≤‡§ó-‡§Ö‡§≤‡§ó ‡§¶‡•á‡§ñ‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à (‡§ú‡•à‡§∏‡•á ‡§∞‡•á‡§§ ‡§î‡§∞ ‡§™‡§æ‡§®‡•Ä)‡•§";
                            } else if (i <= 80) {
                                qText = `[‡§ó‡•Å‡§∞‡•Å‡§§‡•ç‡§µ‡§æ‡§ï‡§∞‡•ç‡§∑‡§£ -   ‡§ï‡§ø‡§∏‡•Ä ‡§µ‡§∏‡•ç‡§§‡•Å ‡§ï‡•á ‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø‡§Æ‡§æ‡§® ‡§î‡§∞ ‡§≠‡§æ‡§∞ (mass and weight) ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§Ö‡§Ç‡§§‡§∞ ‡§π‡•à?`;
                                ans = "‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø‡§Æ‡§æ‡§®: ‡§µ‡§∏‡•ç‡§§‡•Å ‡§Æ‡•á‡§Ç ‡§Æ‡•å‡§ú‡•Ç‡§¶ ‡§™‡§¶‡§æ‡§∞‡•ç‡§• ‡§ï‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ‡•§ ‡§≠‡§æ‡§∞: ‡§µ‡§π ‡§¨‡§≤ ‡§ú‡§ø‡§∏‡§∏‡•á ‡§™‡•É‡§•‡•ç‡§µ‡•Ä ‡§µ‡§∏‡•ç‡§§‡•Å ‡§ï‡•ã ‡§ñ‡•Ä‡§Ç‡§ö‡§§‡•Ä ‡§π‡•à (‡§≠‡§æ‡§∞ = ‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø‡§Æ‡§æ‡§® x ‡§ó‡•Å‡§∞‡•Å‡§§‡•ç‡§µ‡•Ä‡§Ø ‡§§‡•ç‡§µ‡§∞‡§£)‡•§";
                            } else {
                                qText = `[‡§ä‡§§‡§ï -   ‡§™‡•à‡§∞‡•á‡§®‡•ç‡§ï‡§æ‡§á‡§Æ‡§æ (Parenchyma) ‡§î‡§∞ ‡§∏‡•ç‡§ï‡•ç‡§≤‡•á‡§∞‡•á‡§®‡•ç‡§ï‡§æ‡§á‡§Æ‡§æ (Sclerenchyma) ‡§ä‡§§‡§ï‡•ã‡§Ç ‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§Ö‡§Ç‡§§‡§∞ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§`;
                                ans = "‡§™‡•à‡§∞‡•á‡§®‡•ç‡§ï‡§æ‡§á‡§Æ‡§æ: ‡§≠‡•ã‡§ú‡§® ‡§≠‡§Ç‡§°‡§æ‡§∞‡§£ ‡§î‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§®‡§æ‡•§ ‡§∏‡•ç‡§ï‡•ç‡§≤‡•á‡§∞‡•á‡§®‡•ç‡§ï‡§æ‡§á‡§Æ‡§æ: ‡§ï‡§†‡•ã‡§∞‡§§‡§æ ‡§î‡§∞ ‡§Ø‡§æ‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï ‡§∂‡§ï‡•ç‡§§‡§ø ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§®‡§æ (‡§™‡•å‡§ß‡•á ‡§ï‡•á ‡§∏‡§ñ‡•ç‡§§ ‡§≠‡§æ‡§ó)‡•§";
                            }
                        } else if (day === 'Thursday') {
                            // Drawing-Based (‡§ö‡§ø‡§§‡•ç‡§∞-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§)
                            if (i <= 55) {
                                qText = `[‡§ú‡•Ä‡§µ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® -   ‡§è‡§ï ‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ (Neuron) ‡§ï‡§æ ‡§∏‡•ç‡§µ‡§ö‡•ç‡§õ ‡§Ü‡§∞‡•á‡§ñ ‡§¨‡§®‡§æ‡§ï‡§∞ ‡§â‡§∏‡§ï‡•á ‡§°‡•á‡§®‡•ç‡§°‡•ç‡§∞‡§æ‡§á‡§ü (Dendrite) ‡§î‡§∞ ‡§è‡§ï‡•ç‡§∏‡•â‡§® (Axon) ‡§ï‡•ã ‡§®‡§æ‡§Æ‡§æ‡§Ç‡§ï‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§ 

[Image of Neuron Structure]
`;
                                ans = "‡§®‡§æ‡§Æ‡§æ‡§Ç‡§ï‡§ø‡§§ ‡§≠‡§æ‡§ó‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§π‡•à‡§Ç: ‡§°‡•á‡§®‡•ç‡§°‡•ç‡§∞‡§æ‡§á‡§ü, ‡§è‡§ï‡•ç‡§∏‡•â‡§®, ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§™‡§ø‡§Ç‡§° (Cell Body) ‡§î‡§∞ ‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§Ö‡§Ç‡§§ (Nerve Ending)‡•§";
                            } else {
                                qText = `[‡§≠‡•å‡§§‡§ø‡§ï‡•Ä -   ‡§µ‡•á‡§ó-‡§∏‡§Æ‡§Ø ‡§ó‡•ç‡§∞‡§æ‡§´ (Velocity-Time Graph) ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§è‡§ï‡§∏‡§Æ‡§æ‡§® ‡§§‡•ç‡§µ‡§∞‡§£ (Uniform Acceleration) ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§è‡§Ç ‡§î‡§∞ ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ï‡•á ‡§¢‡§≤‡§æ‡§® (slope) ‡§ï‡•á ‡§Æ‡§π‡§§‡•ç‡§µ ‡§ï‡•ã ‡§∏‡§Æ‡§ù‡§æ‡§è‡§Ç‡•§ `;
                                ans = "‡§è‡§ï‡§∏‡§Æ‡§æ‡§® ‡§§‡•ç‡§µ‡§∞‡§£ ‡§ï‡§æ ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§è‡§ï ‡§∏‡•Ä‡§ß‡•Ä ‡§∞‡•á‡§ñ‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§¢‡§≤‡§æ‡§® ‡§ß‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§¢‡§≤‡§æ‡§® ‡§§‡•ç‡§µ‡§∞‡§£ ‡§ï‡•á ‡§Æ‡§æ‡§® ‡§ï‡•ã ‡§¶‡§∞‡•ç‡§∂‡§æ‡§§‡§æ ‡§π‡•à‡•§";
                            }
                        } else if (day === 'Friday') {
                            // Observation-Based (‡§Ö‡§µ‡§≤‡•ã‡§ï‡§®-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§)
                            if (i <= 40) {
                                qText = `[‡§ä‡§∑‡•ç‡§Æ‡§æ ‡§î‡§∞ ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ -   ‡§∏‡§∞‡•ç‡§¶‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ó‡•Ä‡§≤‡•á ‡§ï‡§™‡§°‡§º‡•á ‡§§‡•á‡§ú‡•Ä ‡§∏‡•á ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§∏‡•Ç‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§≠‡§≤‡•á ‡§π‡•Ä ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§π‡§ø‡§Æ‡§æ‡§Ç‡§ï (freezing point) ‡§∏‡•á ‡§ä‡§™‡§∞ ‡§® ‡§π‡•ã? ‡§á‡§∏ ‡§Ö‡§µ‡§≤‡•ã‡§ï‡§® ‡§ï‡§æ ‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§ï‡§æ‡§∞‡§£ ‡§¨‡§§‡§æ‡§è‡§Ç‡•§`;
                                ans = "‡§ï‡§æ‡§∞‡§£: ‡§µ‡§æ‡§∑‡•ç‡§™‡•Ä‡§ï‡§∞‡§£ (Evaporation) ‡§π‡§∞ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§™‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§ ‡§∏‡§∞‡•ç‡§¶‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§π‡§µ‡§æ ‡§∂‡•Å‡§∑‡•ç‡§ï ‡§π‡•ã‡§§‡•Ä ‡§π‡•à, ‡§ú‡§ø‡§∏‡§∏‡•á ‡§µ‡§æ‡§∑‡•ç‡§™‡•Ä‡§ï‡§∞‡§£ ‡§ï‡•Ä ‡§¶‡§∞ ‡§¨‡§¢‡§º ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§";
                            } else if (i <= 80) {
                                qText = `[‡§â‡§§‡•ç‡§™‡•ç‡§≤‡§æ‡§µ‡§ï‡§§‡§æ -   ‡§è‡§ï ‡§≠‡§æ‡§∞‡•Ä ‡§®‡§æ‡§µ ‡§™‡§æ‡§®‡•Ä ‡§Æ‡•á‡§Ç ‡§§‡•à‡§∞‡§§‡•Ä ‡§π‡•à, ‡§ú‡§¨‡§ï‡§ø ‡§≤‡•ã‡§π‡•á ‡§ï‡§æ ‡§è‡§ï ‡§õ‡•ã‡§ü‡§æ ‡§ü‡•Å‡§ï‡§°‡§º‡§æ ‡§°‡•Ç‡§¨ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ ‡§á‡§∏ ‡§Ö‡§µ‡§≤‡•ã‡§ï‡§® ‡§ï‡•á ‡§™‡•Ä‡§õ‡•á ‡§Ü‡§∞‡•ç‡§ï‡§ø‡§Æ‡§ø‡§°‡•Ä‡§ú ‡§ï‡§æ ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§ (Archimedes' principle) ‡§ï‡•à‡§∏‡•á ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?`;
                                ans = "‡§®‡§æ‡§µ ‡§Ö‡§™‡§®‡•á ‡§Ü‡§Ø‡§§‡§® ‡§ï‡•á ‡§ï‡§æ‡§∞‡§£ ‡§Ö‡§™‡§®‡•á ‡§≠‡§æ‡§∞ ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§™‡§æ‡§®‡•Ä ‡§µ‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à (‡§â‡§§‡•ç‡§™‡•ç‡§≤‡§æ‡§µ‡§® ‡§¨‡§≤ ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•ã‡§§‡§æ ‡§π‡•à)‡•§ ‡§≤‡•ã‡§π‡•á ‡§ï‡§æ ‡§ü‡•Å‡§ï‡§°‡§º‡§æ ‡§ï‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§µ‡§ø‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§µ‡§π ‡§°‡•Ç‡§¨ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§";
                            } else {
                                qText = `[‡§™‡•É‡§•‡§ï‡•ç‡§ï‡§∞‡§£ -   ‡§ú‡§¨ ‡§π‡§Æ ‡§ö‡§æ‡§Ø ‡§¨‡§®‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§ö‡§æ‡§Ø‡§™‡§§‡•ç‡§§‡•Ä ‡§ï‡•ã ‡§Ö‡§≤‡§ó ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§õ‡§æ‡§®‡§®‡•á (filtration) ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π ‡§ï‡§ø‡§∏ ‡§µ‡•à‡§ú‡•ç‡§û‡§æ‡§®‡§ø‡§ï ‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§ ‡§™‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§π‡•à?`;
                                ans = "‡§∏‡§ø‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§: ‡§ï‡§£‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§ï‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§Ö‡§Ç‡§§‡§∞‡•§ ‡§ö‡§æ‡§Ø‡§™‡§§‡•ç‡§§‡•Ä ‡§ï‡•á ‡§¨‡§°‡§º‡•á ‡§ï‡§£ ‡§õ‡§®‡•ç‡§®‡•Ä ‡§ï‡•á ‡§õ‡§ø‡§¶‡•ç‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§´‡§Ç‡§∏ ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§¨‡§ï‡§ø ‡§§‡§∞‡§≤ (‡§ö‡§æ‡§Ø) ‡§ï‡•á ‡§õ‡•ã‡§ü‡•á ‡§Ö‡§£‡•Å ‡§Ü‡§∏‡§æ‡§®‡•Ä ‡§∏‡•á ‡§®‡§ø‡§ï‡§≤ ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§";
                            }
                        }
                        
                        QUESTION_BANK[day].push({ id: qId++, text: qText, answer: ans });
                    }
                }
            }
        }

        // --- Rest of the Helper Functions (Unchanged) ---
        
        const getTodayData = () => {
            const date = new Date();
            const dayName = DAYS_OF_WEEK[date.getDay()];
            const dateString = date.toLocaleDateString('hi-IN', { year: 'numeric', month: 'long', day: 'numeric' });
            const dayConfig = DAILY_Q_CONFIG[dayName];
            const logDate = date.toISOString().slice(0, 10); // YYYY-MM-DD
            
            return { date, dayName, dateString, dayConfig, logDate };
        };

        const getLog = () => {
            const logs = JSON.parse(localStorage.getItem('homeworkLog') || '[]');
            return logs.map(log => ({
                ...log,
                is_completed: log.is_completed !== undefined ? log.is_completed : false
            }));
        };

        const saveLog = (log) => {
            localStorage.setItem('homeworkLog', JSON.stringify(log));
        };
        
        const getTodaysAssignment = (logDate) => {
            return getLog().find(log => log.date_given === logDate);
        };

        const shuffleArray = (array) => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        };
        
        // --- Page Rendering Functions ---

        const renderPage = (page, data = {}) => {
            let htmlContent = '';
            
            switch (page) {
                case 'home':
                    htmlContent = renderHome(data);
                    break;
                case 'homework':
                    htmlContent = renderHomework(data);
                    break;
                case 'record':
                    htmlContent = renderRecordMenu();
                    break;
                case 'view_record':
                    htmlContent = renderViewRecord(data.logId);
                    break;
                default:
                    htmlContent = renderError(UI_TEXT.ERROR);
            }
            CONTENT_DIV.innerHTML = htmlContent;
        };

        const renderHome = (data) => {
            const { dayName, dateString, dayConfig, logDate } = getTodayData();
            const todaysLog = getTodaysAssignment(logDate);
            const isGenerated = !!todaysLog;

            let statusBox = '';
            let actionButton = '';

            if (dayConfig.count === 0) {
                statusBox = `
                <div class="status-box rest">
                    <span class="icon-small">‚òï</span> ${UI_TEXT.REST_DAY}: ${UI_TEXT.NO_ASSIGNMENT}
                </div>`;
            } else if (isGenerated) {
                const buttonText = todaysLog.is_completed ? "‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§¶‡•á‡§ñ‡•á‡§Ç" : UI_TEXT.VIEW_ASSIGNMENT;
                const targetPage = todaysLog.is_completed ? 'record' : 'homework';

                statusBox = `
                <div class="status-box generated">
                    <span class="icon-small">‚úîÔ∏è</span> ${UI_TEXT.QUESTIONS_GENERATED}
                    <button onclick="renderPage('${targetPage}')" class="btn btn-view-small" style="margin-left: 20px;">${buttonText}</button>
                </div>`;
            } else {
                actionButton = `
                <button onclick="generateQuestions()" class="btn btn-start">
                    <span class="icon-small">üöÄ</span> ${UI_TEXT.START_QUESTIONS}
                </button>`;
            }

            return `
            <section class="home-section">
                <h1 class="welcome-heading">Welcome, **${STUDENT_NAME}**! üëã</h1>
                <p class="tagline">${dayName} (${dateString}) ${UI_TEXT.HOMEWORK_FOR} ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•à‡•§</p>
                
                ${statusBox}
                ${actionButton}

                <div class="feature-list">
                    <h2>‡§Ü‡§ú ‡§ï‡§æ ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü</h2>
                    <ul class="daily-summary">
                        <li><span class="icon-small icon-blue">üìÖ</span> **${UI_TEXT.DAY_TYPE}:** ${dayConfig.type}</li>
                        <li><span class="icon-small icon-yellow">üî¢</span> **${UI_TEXT.TOTAL_QUESTIONS}:** ${dayConfig.count}</li>
                    </ul>
                </div>
            </section>
            `;
        };

        const renderHomework = () => {
            const { dayName, logDate, dayConfig } = getTodayData();
            const logs = getLog();
            const logIndex = logs.findIndex(l => l.date_given === logDate);
            let log = logs[logIndex];
            
            if (dayConfig.count === 0) {
                return `
                <section class="assignment-section">
                    <h1 class="section-title">${dayName} ${UI_TEXT.HOMEWORK_FOR}</h1>
                    <div class="status-box rest"><span class="icon-small">‚úÖ</span> ${UI_TEXT.NO_ASSIGNMENT}</div>
                    <button onclick="renderPage('home')" class="btn btn-view-small">‡§π‡•ã‡§Æ ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç</button>
                </section>`;
            }
            
            if (!log) {
                return renderError("‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§Ö‡§≠‡•Ä ‡§§‡§ï ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•Å‡§Ü ‡§π‡•à‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ '‡§Ü‡§ú ‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç' ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§");
            }

            const questions = log.questions_json;
            const isCompleted = log.is_completed || false;

            let questionsHtml = '';
            questions.forEach((q, index) => {
                questionsHtml += `
                <div class="question-card">
                    <h3>Q${index + 1}. ${q.text}</h3>
                    ${isCompleted ? '' : `<p style="color: #666; margin-top: 5px; font-style: italic;">${UI_TEXT.NOTEBOOK_INSTRUCTION}</p>`}
                </div>`;
            });
            
            const completionButton = isCompleted ? '' : 
                `<button onclick="markAsCompleted(${log.id})" class="btn btn-start" style="font-size: 1.2em;">
                    <span class="icon-small">‚úîÔ∏è</span> ‡§Æ‡•à‡§Ç‡§®‡•á ‡§Ø‡§π ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞ ‡§≤‡§ø‡§Ø‡§æ ‡§π‡•à
                </button>`;

            return `
            <section class="assignment-section">
                <h1 class="section-title">‡§Ü‡§ú ${dayName} ${UI_TEXT.HOMEWORK_FOR} <span class="icon-yellow">üß†</span></h1>
                <p class="section-subtitle">‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ ${questions.length} ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§π‡•à‡§Ç‡•§</p>
                
                ${isCompleted ? `
                <div class="status-box submitted">
                    <span class="icon-small">‚úÖ</span> **‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü!** ‡§Ø‡§π ‡§Ö‡§∏‡§æ‡§á‡§®‡§Æ‡•á‡§Ç‡§ü ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§Æ‡•á‡§Ç ‡§≤‡•â‡§ó ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§
                </div>
                ` : ''}

                ${questionsHtml}
                
                ${completionButton}
                <button onclick="renderPage('home')" class="btn btn-view-small" style="margin-top: 15px;">‡§π‡•ã‡§Æ ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç</button>
            </section>
            `;
        };
        
        const renderRecordMenu = () => {
            const logs = getLog().sort((a, b) => new Date(b.date_given) - new Date(a.date_given));

            let listItems = logs.map(log => {
                const isCompleted = log.is_completed || false;
                const dayType = log.day_of_week;
                
                return `
                <li class="record-item">
                    <div>
                        <span class="record-date"><span class="icon-small">üìÖ</span> **${log.date_given}** (${dayType})</span>
                        <span class="tag ${isCompleted ? 'tag-answered' : 'tag-unanswered'}">
                            <span class="icon-small">${isCompleted ? '‚úîÔ∏è' : '‚ùå'}</span> ${isCompleted ? UI_TEXT.ANSWERED : UI_TEXT.UNANSWERED}
                        </span>
                    </div>
                    <button onclick="renderPage('view_record', { logId: ${log.id} })" class="btn btn-view-small">${UI_TEXT.VIEW_DETAILS} ‚û°Ô∏è</button>
                </li>
                `;
            }).join('');
            
            if (logs.length === 0) {
                 listItems = `<li class="record-item" style="justify-content: center;"><span class="icon-small">üì¶</span> ${UI_TEXT.NO_RECORDS}</li>`;
            }

            return `
            <h1 class="section-title"><span class="icon-blue">üìö</span> ${UI_TEXT.ASSIGNMENT_HISTORY}</h1>
            <p class="section-subtitle">${UI_TEXT.ACCESS_PREVIOUS}</p>

            <ul class="record-list">
                ${listItems}
            </ul>
            `;
        };
        
        const renderViewRecord = (logId) => {
            const logs = getLog();
            const log = logs.find(l => l.id === logId);
            
            if (!log) { return renderError(UI_TEXT.ASSIGNMENT_NOT_FOUND); }
            
            const dayType = DAILY_Q_CONFIG[log.day_of_week].type;
            
            const detailCards = log.questions_json.map((q, index) => {
                const originalQ = QUESTION_BANK[log.day_of_week].find(item => item.text === q.text);
                const correctAnswer = originalQ ? originalQ.answer : "N/A (‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•Å‡§Ç‡§ú‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç)";
                
                return `
                <div class="question-card detail-card">
                    <h3 class="question-text">Q${index + 1}: ${q.text}</h3>
                    
                    <div class="answer-section student-answer">
                        <h4><span class="icon-small icon-blue">üë§</span> ${UI_TEXT.YOUR_ANSWER} (‡§®‡•ã‡§ü‡§¨‡•Å‡§ï ‡§Æ‡•á‡§Ç):</h4>
                        <p>${log.is_completed ? '‡§õ‡§æ‡§§‡•ç‡§∞ ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§®‡•ã‡§ü‡§¨‡•Å‡§ï ‡§Æ‡•á‡§Ç ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§' : '‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ‡•§'}</p>
                    </div>
                    
                    <div class="answer-section correct-answer">
                        <h4><span class="icon-small icon-yellow">üí°</span> ${UI_TEXT.CORRECT_ANSWER}:</h4>
                        <p>${correctAnswer}</p>
                    </div>
                </div>
                `;
            }).join('');

            return `
            <h1 class="section-title">‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°: **${log.date_given}** (${log.day_of_week})</h1>
            <p class="section-subtitle">${UI_TEXT.DAY_TYPE}: ${dayType}</p>

            <div class="record-detail-container">
                ${detailCards}
                <button onclick="renderPage('record')" class="btn btn-view-small">${UI_TEXT.BACK_TO_RECORDS}</button>
            </div>
            `;
        };

        const renderError = (message) => {
             return `
             <section class="home-section">
                <h1 class="welcome-heading" style="color: #c62828;">${UI_TEXT.ERROR}</h1>
                <p class="tagline" style="font-weight: bold;">${message}</p>
                <button onclick="renderPage('home')" class="btn btn-view-small">‡§π‡•ã‡§Æ ‡§™‡§∞ ‡§µ‡§æ‡§™‡§∏ ‡§ú‡§æ‡§è‡§Ç</button>
             </section>
             `;
        };

        // --- Core Logic ---

        const generateQuestions = () => {
            const { dayName, logDate, dayConfig } = getTodayData();
            const logs = getLog();
            
            if (getTodaysAssignment(logDate)) {
                 return renderPage('homework');
            }
            
            const requiredCount = dayConfig.count;
            const availableQuestions = QUESTION_BANK[dayName];

            if (availableQuestions.length === 0) {
                 return renderError(`‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ${dayName} ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§¨‡•à‡§Ç‡§ï ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§`);
            }
            if (availableQuestions.length < requiredCount) {
                return renderError(`‡§§‡•ç‡§∞‡•Å‡§ü‡§ø: ‡§¨‡•à‡§Ç‡§ï ‡§Æ‡•á‡§Ç ‡§ï‡•á‡§µ‡§≤ ${availableQuestions.length} ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§π‡•à‡§Ç‡•§ ${requiredCount} ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§`);
            }
            
            const shuffled = shuffleArray([...availableQuestions]);
            const selected = shuffled.slice(0, requiredCount);

            const questionsLog = selected.map(q => ({
                id: q.id,
                text: q.text
            }));
            
            const newLogId = logs.length > 0 ? Math.max(...logs.map(l => l.id)) + 1 : 1;

            const newLog = {
                id: newLogId,
                date_given: logDate,
                day_of_week: dayName,
                questions_json: questionsLog,
                is_completed: false 
            };

            logs.push(newLog);
            saveLog(logs);
            
            renderPage('homework');
        };

        const markAsCompleted = (logId) => {
            const logs = getLog();
            const logIndex = logs.findIndex(l => l.id === logId);
            
            if (logIndex === -1) {
                alert(UI_TEXT.ASSIGNMENT_NOT_FOUND);
                return;
            }

            logs[logIndex].is_completed = true;
            saveLog(logs);

            alert(UI_TEXT.SUCCESS + ": " + UI_TEXT.ANSWERS_SAVED);
            renderPage('homework');
        };

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            initializeQuestionBank(); 
            // Full-screen call removed for stability
            renderPage('home'); 
        });
        
    </script>
</body>
</html>
